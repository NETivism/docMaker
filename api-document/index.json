[
{
	"uri": "/api-document/3/basic/",
	"title": "API 基礎操作",
	"tags": [],
	"description": "",
	"content": "Entity、Action 每次API呼叫，都需要指定要使用的API名稱，和要進行的動作 此參數為必填，分別是下列網址的\u0026lt;entity-name\u0026gt;和\u0026lt;action\u0026gt;：\n\u0026lt;entrypoint\u0026gt;?entity=\u0026lt;entity-name\u0026gt;\u0026amp;action=\u0026lt;action\u0026gt; 舉例，如果需要取得聯絡人資料，其 \u0026lt;entity-name\u0026gt; 為 contact，\u0026lt;action\u0026gt;為 get\n範例：取得聯絡人資料 發送範例 HTTP 方法 GET Request Content Type 未限制\nRequest URL \u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get Request Body 無\nAPI Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contact\u0026amp;action=get curl 發送範例 curl -g \\  --header \u0026#39;x-civicrm-api-key: \u0026lt;secret-key\u0026gt;\u0026#39; \\  --header \u0026#39;x-civicrm-site-key: \u0026lt;site-key\u0026gt;\u0026#39; \\  \u0026#39;\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026#39; 回傳範例 { \u0026#34;is_error\u0026#34;: 0, \u0026#34;version\u0026#34;: 3, \u0026#34;count\u0026#34;: 25, \u0026#34;values\u0026#34;: [ { \u0026#34;contact_id\u0026#34;: \u0026#34;1234\u0026#34;, \u0026#34;contact_type\u0026#34;: \u0026#34;Individual\u0026#34;, \u0026#34;contact_sub_type\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;sort_name\u0026#34;: \u0026#34;蔡怡君\u0026#34;, \u0026#34;display_name\u0026#34;: \u0026#34;蔡怡君\u0026#34;, ...... \u0026#34;id\u0026#34;: \u0026#34;1234\u0026#34; }, ...... ] } 資料分頁 因受限於API限制，每次最多回傳 100 筆資料，可搭配offset擷取更多資料\n 擷取第1-100筆資料：json={\u0026quot;options\u0026quot;:{\u0026quot;limit\u0026quot;:100,\u0026quot;offset\u0026quot;:0}} 擷取第101-200筆資料：json={\u0026quot;options\u0026quot;:{\u0026quot;limit\u0026quot;:100,\u0026quot;offset\u0026quot;:100}} 資料結束時，會回傳空的 values ：{\u0026quot;options\u0026quot;:{\u0026quot;limit\u0026quot;:100,\u0026quot;offset\u0026quot;:50000}}  整合上例，以下是回傳第100筆開始起算，取得下一百筆資料的網址路徑\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;options\u0026quot;:{\u0026quot;limit\u0026quot;:100,\u0026quot;offset\u0026quot;:100}} 資料篩選  當\u0026lt;action\u0026gt;為get時，資料篩選會根據傳入的JSON物件方式處置。 當\u0026lt;action\u0026gt;為create或delete或其他時，JSON物件為要建立的資料，因此無法進行資料篩選。  篩選範例：取得聯絡人編號12345的人\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:\u0026quot;12345\u0026quot;} 資料巢狀查詢 巢狀查詢，是串連不同API一起查詢的方式，因為API拉取的數量限制，建議可以用巢狀資料查詢，取得對應物件的所有資料，以免短時間呼叫過多API請求。\n例如，一次要取得聯絡人編號1234的個人資料，多筆Email、電話、地址、和自訂欄位，可以用以下方式「篩選」，傳入JSON物件\n的JSON如下：\n{ \u0026#34;id\u0026#34;: 1234, \u0026#34;api.Email.get\u0026#34;: { \u0026#34;contact_id\u0026#34;: \u0026#34;$value.id\u0026#34; }, \u0026#34;api.Address.get\u0026#34;: { \u0026#34;contact_id\u0026#34;: \u0026#34;$value.id\u0026#34; }, \u0026#34;api.Phone.get\u0026#34;: { \u0026#34;contact_id\u0026#34;: \u0026#34;$value.id\u0026#34; }, \u0026#34;api.CustomValue.get\u0026#34;: { \u0026#34;entity_table\u0026#34;: \u0026#34;civicrm_contact\u0026#34;, \u0026#34;entity_id\u0026#34;: \u0026#34;$value.id\u0026#34; } } 然而因為是 GET 方法查詢，需要從網址參數帶入上述物件，將之轉換成為以下的查詢：\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:1234,\u0026quot;api.Email.get\u0026quot;:{\u0026quot;contact_id\u0026quot;:\u0026quot;$value.id\u0026quot;},\u0026quot;api.Address.get\u0026quot;:{\u0026quot;contact_id\u0026quot;:\u0026quot;$value.id\u0026quot;},\u0026quot;api.Phone.get\u0026quot;:{\u0026quot;contact_id\u0026quot;:\u0026quot;$value.id\u0026quot;},\u0026quot;api.CustomValue.get\u0026quot;:{\u0026quot;entity_table\u0026quot;:\u0026quot;civicrm_contact\u0026quot;,\u0026quot;entity_id\u0026quot;:\u0026quot;$value.id\u0026quot;}} 而轉換成 curl 查詢，因為 curl 預設並未支援 JSON 格式的括弧，因此需要帶入參數 -g ，curl 發送範例如下\ncurl -g \\  --header \u0026#39;x-civicrm-api-key: \u0026lt;secret-key\u0026gt;\u0026#39; \\  --header \u0026#39;x-civicrm-site-key: \u0026lt;site-key\u0026gt;\u0026#39; \\  \u0026#39;\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026#34;id\u0026#34;:1234,\u0026#34;api.Email.get\u0026#34;:{\u0026#34;contact_id\u0026#34;:\u0026#34;$value.id\u0026#34;},\u0026#34;api.Address.get\u0026#34;:{\u0026#34;contact_id\u0026#34;:\u0026#34;$value.id\u0026#34;},\u0026#34;api.Phone.get\u0026#34;:{\u0026#34;contact_id\u0026#34;:\u0026#34;$value.id\u0026#34;},\u0026#34;api.CustomValue.get\u0026#34;:{\u0026#34;entity_table\u0026#34;:\u0026#34;civicrm_contact\u0026#34;,\u0026#34;entity_id\u0026#34;:\u0026#34;$value.id\u0026#34;}}\u0026#39; "
},
{
	"uri": "/api-document/3/contact/",
	"title": "Contact API",
	"tags": [],
	"description": "",
	"content": "基本使用 Contact Get API 發送範例 HTTP Method GET Request URL 取得所有聯絡人\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={} 取得特定篩選條件的聯絡人\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;\u0026lt;field\u0026gt;\u0026quot;:\u0026quot;\u0026lt;value\u0026gt;\u0026quot;}} 聯絡人編號1234的聯絡人\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:\u0026quot;1234\u0026quot;}} 姓氏是王、名字是小明的聯絡人\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;last_name\u0026quot;:\u0026quot;王\u0026quot;,\u0026quot;first_name\u0026quot;:\u0026quot;小明\u0026quot;}} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;\u0026lt;field\u0026gt;\u0026quot;:\u0026quot;\u0026lt;value\u0026gt;\u0026quot;}\u0026gt; curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;\u0026lt;field\u0026gt;\u0026quot;:\u0026quot;\u0026lt;value\u0026gt;\u0026quot;}' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 25, \u0026quot;values\u0026quot;: [ { \u0026quot;contact_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;contact_type\u0026quot;: \u0026quot;Individual\u0026quot;, \u0026quot;contact_sub_type\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;sort_name\u0026quot;: \u0026quot;蔡怡君\u0026quot;, \u0026quot;display_name\u0026quot;: \u0026quot;蔡怡君\u0026quot;, ...... \u0026quot;id\u0026quot;: \u0026quot;1\u0026quot; ...... }, ...... ] } Contact Create API HTTP 方法 POST Request Content Type application/json Request URL \u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=create Request Body {\u0026quot;first_name\u0026quot;:\u0026quot;小明\u0026quot;,\u0026quot;last_name\u0026quot;:\u0026quot;王\u0026quot;,\u0026quot;contact_type\u0026quot;:\u0026quot;Individual\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contact\u0026amp;action=create\u0026amp;json={\u0026quot;first_name\u0026quot;:\u0026quot;小明\u0026quot;,\u0026quot;last_name\u0026quot;:\u0026quot;王\u0026quot;,\u0026quot;contact_type\u0026quot;:\u0026quot;Individual\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;first_name\u0026quot;:\u0026quot;小明\u0026quot;,\u0026quot;last_name\u0026quot;:\u0026quot;王\u0026quot;,\u0026quot;contact_type\u0026quot;:\u0026quot;Individual\u0026quot;}' \\ '\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=create' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 14678, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;14678\u0026quot;, \u0026quot;contact_type\u0026quot;: \u0026quot;Individual\u0026quot;, ...... \u0026quot;first_name\u0026quot;: \u0026quot;小明\u0026quot;, \u0026quot;middle_name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;last_name\u0026quot;: \u0026quot;王\u0026quot;, ...... } ] } Contact Update API HTTP 方法 POST Request Content Type application/json Request URL \u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=create Request Body 更新聯絡人編號14678的個資\n{ \u0026quot;id\u0026quot;:\u0026quot;14678\u0026quot;, \u0026quot;first_name\u0026quot;:\u0026quot;大明\u0026quot; } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contact\u0026amp;action=create\u0026amp;json={\u0026quot;first_name\u0026quot;:\u0026quot;小明\u0026quot;,\u0026quot;last_name\u0026quot;:\u0026quot;王\u0026quot;,\u0026quot;contact_type\u0026quot;:\u0026quot;Individual\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data 'json={\u0026quot;first_name\u0026quot;:\u0026quot;小明\u0026quot;,\u0026quot;last_name\u0026quot;:\u0026quot;王\u0026quot;,\u0026quot;contact_type\u0026quot;:\u0026quot;Individual\u0026quot;}' \\ '\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=create' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 14678, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;14678\u0026quot;, \u0026quot;contact_type\u0026quot;: \u0026quot;Individual\u0026quot;, ...... \u0026quot;first_name\u0026quot;: \u0026quot;小明\u0026quot;, \u0026quot;middle_name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;last_name\u0026quot;: \u0026quot;王\u0026quot;, ...... } ] } 刪除聯絡人(delete) 透過 delete API，可在刪除網站中儲存的聯絡人，丟到資源回收桶（之後可再復原）。\n發送範例 HTTP 方法： POST Request Content Type application/json Request URL \u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=delete Request Body {\u0026quot;id\u0026quot;:\u0026quot;14678\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contact\u0026amp;action=delete\u0026amp;json={\u0026quot;id\u0026quot;:\u0026quot;14678\u0026quot;} curl 發送範例 curl -g \\  --header \u0026#39;x-civicrm-api-key: \u0026lt;secret-key\u0026gt;\u0026#39; \\  --header \u0026#39;x-civicrm-site-key: \u0026lt;site-key\u0026gt;\u0026#39; \\  --header \u0026#39;content-type: application/json\u0026#39; \\  --request POST \\  --data \u0026#39;json={\u0026#34;id\u0026#34;:\u0026#34;14678\u0026#34;}\u0026#39; \\ \u0026#39;\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=delete\u0026#39; 回傳範例 { \u0026#34;is_error\u0026#34;: 0, \u0026#34;version\u0026#34;: 3, \u0026#34;count\u0026#34;: 1, \u0026#34;values\u0026#34;: 1 } 進階使用 取得聯絡人-巢狀資料 使用 get API取得聯絡人時，可以一併取得跟聯絡人相關的其他資料，以「取得聯絡人時，同時取得所有Email、自訂欄位」為例\n發送範例 HTTP 方法 GET Request URL 語法\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;api.\u0026lt;相關類型API名稱\u0026gt;.get\u0026quot;:{\u0026quot;\u0026lt;相關類型API對應欄位\u0026gt;\u0026quot;:\u0026quot;$value.\u0026lt;上層類型對應ID\u0026gt;\u0026quot;, \u0026quot;\u0026lt;相關類型篩選欄位\u0026gt;\u0026quot;:\u0026quot;\u0026lt;篩選值\u0026gt;\u0026quot;}} 取得聯絡人1234的資料，以及非主要Email\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:1234,\u0026quot;api.Email.get\u0026quot;:{\u0026quot;contact_id\u0026quot;:\u0026quot;$value.id\u0026quot;,\u0026quot;is_primary\u0026quot;:\u0026quot;0\u0026quot;}} 取得聯絡人1234的資料，以及自訂欄位\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:1234,\u0026quot;api.CustomValue.get\u0026quot;:{\u0026quot;entity_table\u0026quot;:\u0026quot;civicrm_contact\u0026quot;,\u0026quot;entity_id\u0026quot;:\u0026quot;$value.id\u0026quot;}} 串連取得上述資料\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:1234,\u0026quot;api.Email.get\u0026quot;:{\u0026quot;contact_id\u0026quot;:\u0026quot;$value.id\u0026quot;,\u0026quot;is_primary\u0026quot;:\u0026quot;0\u0026quot;},\u0026quot;api.CustomValue.get\u0026quot;:{\u0026quot;entity_table\u0026quot;:\u0026quot;civicrm_contact\u0026quot;,\u0026quot;entity_id\u0026quot;:\u0026quot;$value.id\u0026quot;}} API Explorer https://\u0026lt;site-domain\u0026gt;/civicrm/apibrowser#/civicrm/ajax/rest?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:1234,\u0026quot;api.Email.get\u0026quot;:{\u0026quot;contact_id\u0026quot;:\u0026quot;$value.id\u0026quot;,\u0026quot;is_primary\u0026quot;:\u0026quot;0\u0026quot;},\u0026quot;api.CustomValue.get\u0026quot;:{\u0026quot;entity_table\u0026quot;:\u0026quot;civicrm_contact\u0026quot;,\u0026quot;entity_id\u0026quot;:\u0026quot;$value.id\u0026quot;}} curl 發送範例 curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ '\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:1234,\u0026quot;api.Email.get\u0026quot;:{\u0026quot;contact_id\u0026quot;:\u0026quot;$value.id\u0026quot;,\u0026quot;is_primary\u0026quot;:\u0026quot;0\u0026quot;},\u0026quot;api.CustomValue.get\u0026quot;:{\u0026quot;entity_table\u0026quot;:\u0026quot;civicrm_contact\u0026quot;,\u0026quot;entity_id\u0026quot;:\u0026quot;$value.id\u0026quot;}}' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;1234\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;1234\u0026quot;, \u0026quot;contact_type\u0026quot;: \u0026quot;Individual\u0026quot;, \u0026quot;contact_sub_type\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;sort_name\u0026quot;: \u0026quot;蔡怡君\u0026quot;, \u0026quot;display_name\u0026quot;: \u0026quot;蔡怡君\u0026quot;, ...... \u0026quot;api.Email.get\u0026quot;: { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;1234\u0026quot;, \u0026quot;location_type_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;email\u0026quot;: \u0026quot;jayden.nelson@netivism-is-best.com.tw\u0026quot;, \u0026quot;is_primary\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;is_billing\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;on_hold\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;is_bulkmail\u0026quot;: \u0026quot;0\u0026quot; } ] }, \u0026quot;api.CustomValue.get\u0026quot;: { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 3, \u0026quot;values\u0026quot;: [ { \u0026quot;entity_id\u0026quot;: \u0026quot;1234\u0026quot;, \u0026quot;latest\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;0\u0026quot;: \u0026quot;\u0026quot; }, { \u0026quot;entity_table\u0026quot;: \u0026quot;Contact\u0026quot; }, { \u0026quot;entity_id\u0026quot;: \u0026quot;1234\u0026quot;, \u0026quot;latest\u0026quot;: \u0026quot;500,000\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;0\u0026quot;: \u0026quot;500,000\u0026quot; }, { \u0026quot;entity_id\u0026quot;: \u0026quot;1234\u0026quot;, \u0026quot;latest\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;id\u0026quot;: \u0026quot;3\u0026quot;, \u0026quot;0\u0026quot;: \u0026quot;\u0026quot; } ] } } ...... ] } 建立聯絡人-多值建立電話、Email、地址 透過新建 create API，可在 CRM 網站上建立新的聯絡人，或是更新現有聯絡人，同時將Email、電話、地址同時建立\n發送範例 HTTP 方法 POST Request Content Type application/json Request URL \u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=create Request Body { \u0026quot;first_name\u0026quot;:\u0026quot;小明\u0026quot;, \u0026quot;last_name\u0026quot;:\u0026quot;王\u0026quot;, \u0026quot;contact_type\u0026quot;:\u0026quot;Individual\u0026quot;, \u0026quot;email\u0026quot;: [ { \u0026quot;email\u0026quot;:\u0026quot;abcd@test.com\u0026quot;, \u0026quot;location_type_id\u0026quot;:\u0026quot;1\u0026quot;, \u0026quot;append\u0026quot;:\u0026quot;1\u0026quot; }, ... ] \u0026quot;phone\u0026quot;: [ { \u0026quot;phone\u0026quot;:\u0026quot;abcd@test.com\u0026quot;, \u0026quot;location_type_id\u0026quot;:\u0026quot;1\u0026quot;, \u0026quot;phone_type_id\u0026quot;:\u0026quot;1\u0026quot;, \u0026quot;append\u0026quot;:\u0026quot;1\u0026quot; }, ... ], \u0026quot;address\u0026quot;: [ { \u0026quot;location_type_id\u0026quot;:\u0026quot;1\u0026quot;, \u0026quot;country\u0026quot;: \u0026quot;TW\u0026quot;, \u0026quot;postal_code\u0026quot;: 100, \u0026quot;state_province_name\u0026quot;: \u0026quot;臺北市\u0026quot;, \u0026quot;city\u0026quot;: \u0026quot;中正區\u0026quot;, \u0026quot;street_address\u0026quot;: \u0026quot;林森南路...\u0026quot; }, ... ] } 取得聯絡人CS CS(Contact Checksum) 的用途，讓使用者可以填寫表單時，不用重新填寫個資的方式。 設定的變數有 contact_id 與 live，contact_id 為聯絡人id，而live 則是設定過多久後會失效，需重新登入，單位為小時。\n發送範例 HTTP 方法 GET Request URL 格式\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=checksum\u0026amp;json={\u0026quot;contact_id\u0026quot;:\u0026quot;\u0026lt;contact id\u0026gt;\u0026quot;, \u0026quot;live\u0026quot;:\u0026lt;valid hours\u0026gt;} 取得聯絡人編號1234的Checksum，並設定3小時後失效\n\u0026lt;entrypoint\u0026gt;?entity=Contact\u0026amp;action=checksum\u0026amp;json={\u0026quot;contact_id\u0026quot;:\u0026quot;1234\u0026quot;, \u0026quot;live\u0026quot;:3} API Explorer https://\u0026lt;site-domain\u0026gt;/civicrm/apibrowser#/civicrm/ajax/rest?entity=Contact\u0026amp;action=checksum\u0026amp;json={\u0026quot;contact_id\u0026quot;:\u0026quot;1234\u0026quot;, \u0026quot;live\u0026quot;:3} 回傳範例 回傳的 values 內儲存的 key 為設定的聯絡人id，value 為 checksum。\n{ \u0026#34;is_error\u0026#34;: 0, \u0026#34;version\u0026#34;: 3, \u0026#34;count\u0026#34;: 1, \u0026#34;id\u0026#34;: 0, \u0026#34;values\u0026#34;: [ { \u0026#34;1234\u0026#34;: \u0026#34;abcde12345HQWEQWEASDSASD_1631155364_3\u0026#34; } ] } "
},
{
	"uri": "/api-document/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/api-document/3/contribution/",
	"title": "Contribution API",
	"tags": [],
	"description": "",
	"content": "This is a API Document about contribution.\n   變數名稱 類型 長度 格式 建立規則 說明     id 數字(int unsigned) 10 \u0026gt;= 0 必填 Unique Contribution ID   contact_id 數字(int unsigned) 10 \u0026gt;= 0 必填 FK to Contact ID   solicitor_id 數字(int unsigned) 10 \u0026gt;= 0  FK to Solicitor ID   contribution_type_id 數字(int unsigned) 10 \u0026gt;= 0  FK to Contribution Type   contribution_page_id 數字(int unsigned) 10 \u0026gt;= 0  The Contribution Page which triggered this contribution   payment_processor_id 數字(int unsigned) 10 \u0026gt;= 0  FK to Payment Processor   payment_instrument_id 數字(int unsigned) 10 \u0026gt;= 0  FK to Payment Instrument   created_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  when was contribution submitted   receive_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  when was gift received(or got authorized by credit card)   non_deductible_amount 數字(decimal) 20,2 00.00 預設值: 0 Portion of total amount which is NOT tax deductible.   total_amount 數字(decimal) 20,2 00.00 必填 Total amount of this contribution.   fee_amount 數字(decimal) 20,2 00.00  Payment processor fee when available.   net_amount 數字(decimal) 20,2 00.00  net amount + fee amount = total amount   trxn_id 字串(varchar) 255   unique transaction id by this application   invoice_id 字串(varchar) 255   unique invoice id, system generated or passed in   currency 字串(varchar) 3  預設值: NULL 3 character string, value from config setting.   cancel_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  when was gift cancelled   cancel_reason 字串(text) 65535   Reason that gift was cancelled   receipt_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  Record date after (email)receipt sent.   thankyou_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  when (if) was donor thanked   source 字串(varchar) 255   Origin of this Contribution.   amount_level 字串(text) 65535   Amount level / label that donor choose in contribution page.   note 字串(text) 65535   Note and/or Comment.   contribution_recur_id 數字(int unsigned) 10 \u0026gt;= 0  FK to Contribution Recurring. If this set, this contribution is belong to a recurring order.   honor_contact_id 數字(int unsigned) 10 \u0026gt;= 0  FK to contact ID. If this set, contribution is honor of other contact.   is_test 布林值(boolean) 1 0 or 1 預設值: 0 Mark 1 when this order is a testing contribution.   is_pay_later 布林值(boolean) 1 0 or 1 預設值: 0 Mark 1 when this order is not paid by real-time payment instrument. eg. ATM is not real-time.   contribution_status_id 數字(int unsigned) 10 \u0026gt;= 0 預設值: 1 1=completed, 2=pending, 3=cancel, 4=failed   honor_type_id 數字(int unsigned) 10 \u0026gt;= 0  Implicit FK to civicrm_option_value.   address_id 數字(int unsigned) 10 \u0026gt;= 0  Conditional foreign key to civicrm_address.id. We insert an address record for each contribution when we have associated billing name and address data.   check_number 字串(varchar) 255      receipt_id 字串(varchar) 255      expire_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  when is payment expiration    Contribution Get API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=Contribution\u0026amp;action=get\u0026amp;json={\u0026quot;contribution_id\u0026quot;:51} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contribution\u0026amp;action=get\u0026amp;pretty=1\u0026amp;json={\u0026quot;contribution_id\u0026quot;:51} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=Contribution\u0026amp;action=get\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 51, \u0026quot;values\u0026quot;: { \u0026quot;51\u0026quot;: { \u0026quot;contact_id\u0026quot;: \u0026quot;28\u0026quot;, \u0026quot;contact_type\u0026quot;: \u0026quot;Individual\u0026quot;, \u0026quot;contact_sub_type\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;sort_name\u0026quot;: \u0026quot;Test ARDeN Unit\u0026quot;, \u0026quot;display_name\u0026quot;: \u0026quot;Test ARDeN Unit\u0026quot;, \u0026quot;contribution_id\u0026quot;: \u0026quot;51\u0026quot;, \u0026quot;currency\u0026quot;: \u0026quot;USD\u0026quot;, \u0026quot;contribution_page_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;created_date\u0026quot;: \u0026quot;2021-11-29 15:04:09\u0026quot;, \u0026quot;receive_date\u0026quot;: \u0026quot;2021-11-29 15:04:09\u0026quot;, \u0026quot;non_deductible_amount\u0026quot;: \u0026quot;10.00\u0026quot;, \u0026quot;total_amount\u0026quot;: \u0026quot;100.00\u0026quot;, \u0026quot;fee_amount\u0026quot;: \u0026quot;50.00\u0026quot;, \u0026quot;net_amount\u0026quot;: \u0026quot;90.00\u0026quot;, \u0026quot;trxn_id\u0026quot;: \u0026quot;eQTmpujhlN\u0026quot;, \u0026quot;invoice_id\u0026quot;: \u0026quot;hi3KyqRwZW\u0026quot;, \u0026quot;cancel_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;cancel_reason\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;receipt_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;thankyou_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_source\u0026quot;: \u0026quot;Contribution Unit Test\u0026quot;, \u0026quot;amount_level\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;is_test\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;is_pay_later\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;check_number\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;receipt_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_type_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;contribution_type\u0026quot;: \u0026quot;\\u4e00\\u822c\\u6350\\u6b3e\u0026quot;, \u0026quot;accounting_code\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;payment_instrument_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;payment_instrument\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;product_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;product_name\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;sku\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_product_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;product_option\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;fulfilled_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_start_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_end_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_recur_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_note\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_status_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;contribution_status\u0026quot;: \u0026quot;\\u5df2\\u5b8c\\u6210\u0026quot;, \u0026quot;contribution_payment_instrument\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_check_number\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_referrer_type\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;civicrm_value_shou_ju_zi_xun_1_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;custom_1\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;custom_2\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;custom_3\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;custom_4\u0026quot;: \u0026quot;\u0026quot; } } } Contribution Create API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=Contribution\u0026amp;action=create Request Content Type application/json Request body { \u0026quot;contact_id\u0026quot;: 29, \u0026quot;receive_date\u0026quot;: \u0026quot;2021-11-29 15:04:09\u0026quot;, \u0026quot;total_amount\u0026quot;: 100, \u0026quot;contribution_type_id\u0026quot;: 1, \u0026quot;non_deductible_amount\u0026quot;: 10, \u0026quot;fee_amount\u0026quot;: 50, \u0026quot;net_amount\u0026quot;: 90, \u0026quot;source\u0026quot;: \u0026quot;Contribution Unit Test\u0026quot;, \u0026quot;contribution_status_id\u0026quot;: 1, \u0026quot;trxn_id\u0026quot;: \u0026quot;pxhaDtwFII\u0026quot;, \u0026quot;invoice_id\u0026quot;: \u0026quot;e1uGoCG25Q\u0026quot;, \u0026quot;payment_instrument_id\u0026quot;: 1 } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contribution\u0026amp;action=create\u0026amp;pretty=1\u0026amp;json={\u0026quot;contact_id\u0026quot;:29,\u0026quot;receive_date\u0026quot;:\u0026quot;2021-11-29 15:04:09\u0026quot;,\u0026quot;total_amount\u0026quot;:100,\u0026quot;contribution_type_id\u0026quot;:1,\u0026quot;non_deductible_amount\u0026quot;:10,\u0026quot;fee_amount\u0026quot;:50,\u0026quot;net_amount\u0026quot;:90,\u0026quot;source\u0026quot;:\u0026quot;Contribution Unit Test\u0026quot;,\u0026quot;contribution_status_id\u0026quot;:1,\u0026quot;trxn_id\u0026quot;:\u0026quot;pxhaDtwFII\u0026quot;,\u0026quot;invoice_id\u0026quot;:\u0026quot;e1uGoCG25Q\u0026quot;,\u0026quot;payment_instrument_id\u0026quot;:1} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;contact_id\u0026quot;:29,\u0026quot;receive_date\u0026quot;:\u0026quot;2021-11-29 15:04:09\u0026quot;,\u0026quot;total_amount\u0026quot;:100,\u0026quot;contribution_type_id\u0026quot;:1,\u0026quot;non_deductible_amount\u0026quot;:10,\u0026quot;fee_amount\u0026quot;:50,\u0026quot;net_amount\u0026quot;:90,\u0026quot;source\u0026quot;:\u0026quot;Contribution Unit Test\u0026quot;,\u0026quot;contribution_status_id\u0026quot;:1,\u0026quot;trxn_id\u0026quot;:\u0026quot;pxhaDtwFII\u0026quot;,\u0026quot;invoice_id\u0026quot;:\u0026quot;e1uGoCG25Q\u0026quot;,\u0026quot;payment_instrument_id\u0026quot;:1}' \\ '\u0026lt;entrypoint\u0026gt;?entity=Contribution\u0026amp;action=create' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 53, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;53\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;29\u0026quot;, \u0026quot;contribution_type_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;contribution_page_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;payment_processor_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;payment_instrument_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;created_date\u0026quot;: \u0026quot;20211129150409\u0026quot;, \u0026quot;receive_date\u0026quot;: \u0026quot;20211129150409\u0026quot;, \u0026quot;non_deductible_amount\u0026quot;: \u0026quot;10\u0026quot;, \u0026quot;total_amount\u0026quot;: \u0026quot;100\u0026quot;, \u0026quot;fee_amount\u0026quot;: \u0026quot;50\u0026quot;, \u0026quot;net_amount\u0026quot;: \u0026quot;90\u0026quot;, \u0026quot;trxn_id\u0026quot;: \u0026quot;pxhaDtwFII\u0026quot;, \u0026quot;invoice_id\u0026quot;: \u0026quot;e1uGoCG25Q\u0026quot;, \u0026quot;currency\u0026quot;: \u0026quot;USD\u0026quot;, \u0026quot;cancel_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;cancel_reason\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;receipt_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;thankyou_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;source\u0026quot;: \u0026quot;Contribution Unit Test\u0026quot;, \u0026quot;amount_level\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_recur_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;honor_contact_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;is_test\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;is_pay_later\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_status_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;honor_type_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;address_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;check_number\u0026quot;: \u0026quot;null\u0026quot;, \u0026quot;receipt_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;expire_date\u0026quot;: \u0026quot;\u0026quot; } ] } Contribution Update API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=Contribution\u0026amp;action=create Request Content Type application/json Request body { \u0026quot;id\u0026quot;: 59, \u0026quot;total_amount\u0026quot;: 9999, \u0026quot;contribution_type_id\u0026quot;: 1, \u0026quot;non_deductible_amount\u0026quot;: 10, \u0026quot;net_amount\u0026quot;: 100, \u0026quot;contribution_status_id\u0026quot;: 3, \u0026quot;cancel_date\u0026quot;: \u0026quot;20211129150410\u0026quot;, \u0026quot;cancel_reason\u0026quot;: \u0026quot;The reason to cancel\u0026quot; } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contribution\u0026amp;action=create\u0026amp;pretty=1\u0026amp;json={\u0026quot;id\u0026quot;:59,\u0026quot;total_amount\u0026quot;:9999,\u0026quot;contribution_type_id\u0026quot;:1,\u0026quot;non_deductible_amount\u0026quot;:10,\u0026quot;net_amount\u0026quot;:100,\u0026quot;contribution_status_id\u0026quot;:3,\u0026quot;cancel_date\u0026quot;:\u0026quot;20211129150410\u0026quot;,\u0026quot;cancel_reason\u0026quot;:\u0026quot;The reason to cancel\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;id\u0026quot;:59,\u0026quot;total_amount\u0026quot;:9999,\u0026quot;contribution_type_id\u0026quot;:1,\u0026quot;non_deductible_amount\u0026quot;:10,\u0026quot;net_amount\u0026quot;:100,\u0026quot;contribution_status_id\u0026quot;:3,\u0026quot;cancel_date\u0026quot;:\u0026quot;20211129150410\u0026quot;,\u0026quot;cancel_reason\u0026quot;:\u0026quot;The reason to cancel\u0026quot;}' \\ '\u0026lt;entrypoint\u0026gt;?entity=Contribution\u0026amp;action=create' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 59, \u0026quot;values\u0026quot;: { \u0026quot;59\u0026quot;: { \u0026quot;id\u0026quot;: \u0026quot;59\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_type_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;contribution_page_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;payment_processor_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;payment_instrument_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;created_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;receive_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;non_deductible_amount\u0026quot;: \u0026quot;10\u0026quot;, \u0026quot;total_amount\u0026quot;: \u0026quot;9999\u0026quot;, \u0026quot;fee_amount\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;net_amount\u0026quot;: \u0026quot;100\u0026quot;, \u0026quot;trxn_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;invoice_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;currency\u0026quot;: \u0026quot;USD\u0026quot;, \u0026quot;cancel_date\u0026quot;: \u0026quot;20211129150410\u0026quot;, \u0026quot;cancel_reason\u0026quot;: \u0026quot;The reason to cancel\u0026quot;, \u0026quot;receipt_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;thankyou_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;source\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;amount_level\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_recur_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;honor_contact_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;is_test\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;is_pay_later\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;contribution_status_id\u0026quot;: \u0026quot;3\u0026quot;, \u0026quot;honor_type_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;address_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;check_number\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;receipt_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;expire_date\u0026quot;: \u0026quot;\u0026quot; } } } Contribution Delete API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=Contribution\u0026amp;action=delete Request Content Type application/json Request body { \u0026quot;id\u0026quot;: 60 } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Contribution\u0026amp;action=delete\u0026amp;pretty=1\u0026amp;json={\u0026quot;id\u0026quot;:60} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;id\u0026quot;:60}' \\ '\u0026lt;entrypoint\u0026gt;?entity=Contribution\u0026amp;action=delete' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;values\u0026quot;: 1 } "
},
{
	"uri": "/api-document/3/contributionpage/",
	"title": "Contribution Page API",
	"tags": [],
	"description": "",
	"content": "取得募款頁資料 透過 get API，可取得 CRM 網站上募款頁資訊\n查詢範例 HTTP方法 GET Request URL 取得所有募款頁\n\u0026lt;entrypoint\u0026gt;?entity=ContributionPage\u0026amp;action=get 取得編號3的募款頁\n\u0026lt;entrypoint\u0026gt;?entity=ContributionPage\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:\u0026quot;3\u0026quot;} API Explorer 路徑 /civicrm/apibrowser#/civicrm/ajax/rest?entity=ContributionPage\u0026amp;action=get\u0026amp;pretty=1 curl Example curl -g \\  --header \u0026#39;x-civicrm-api-key: \u0026lt;secret-key\u0026gt;\u0026#39; \\  --header \u0026#39;x-civicrm-site-key: \u0026lt;site-key\u0026gt;\u0026#39; \\  \u0026#39;\u0026lt;entrypoint\u0026gt;?entity=ContributionPage\u0026amp;action=get\u0026#39; 回傳範例 { \u0026#34;is_error\u0026#34;: 0, #是否有錯誤 \u0026#34;version\u0026#34;: 3, #API的版本 \u0026#34;count\u0026#34;: 1, #此次查詢比數 \u0026#34;values\u0026#34;: [ #此次查詢結果 { \u0026#34;id\u0026#34;: \u0026#34;4\u0026#34;, #募款頁id \u0026#34;title\u0026#34;: \u0026#34;範例募款頁\u0026#34;, #募款頁標題 \u0026#34;intro_text\u0026#34;: \u0026#34;\u0026lt;p\u0026gt;募款頁的介紹訊息！\u0026lt;/p\u0026gt;\u0026#34;, #主要介紹訊息，允許HTML \u0026#34;contribution_type_id\u0026#34;: \u0026#34;1\u0026#34;, #費用類型編號 \u0026#34;payment_processor\u0026#34;: [ #啟用的金流機制 ID \u0026#34;1\u0026#34;, \u0026#34;5\u0026#34; ], \u0026#34;is_monetary\u0026#34;: \u0026#34;1\u0026#34;, #是否必要付款，\u0026#34;0\u0026#34; or \u0026#34;1\u0026#34; \u0026#34;is_recur\u0026#34;: \u0026#34;1\u0026#34;, #是否定期，\u0026#34;0\u0026#34;或\u0026#34;1\u0026#34;或\u0026#34;2\u0026#34; #當\u0026#34;0\u0026#34;表示僅允許單筆，\u0026#34;1\u0026#34;表示允許單筆與定期，\u0026#34;2\u0026#34;表示允許單筆 \u0026#34;recur_frequency_unit\u0026#34;: \u0026#34;month\u0026#34;, #定期的週期別 \u0026#34;is_recur_interval\u0026#34;: \u0026#34;0\u0026#34;, #週期間隔，固定為\u0026#34;0\u0026#34; \u0026#34;installments_option\u0026#34;: \u0026#34;1\u0026#34;, #允許使用者在募款頁選擇定期期數 \u0026#34;is_pay_later\u0026#34;: \u0026#34;1\u0026#34;, #是否允許稍後付款，\u0026#34;0\u0026#34;表示停用，\u0026#34;1\u0026#34;表示啟用 \u0026#34;pay_later_text\u0026#34;: \u0026#34;請設定您的金流服務\u0026#34;, #若 is_pay_later=\u0026#34;1\u0026#34;時，稍後付款的文字 \u0026#34;pay_later_receipt\u0026#34;: \u0026#34;選擇金流服務商完成設定，即可提供正式的線上付款工具。\u0026#34;, #若 is_pay_later=\u0026#34;1\u0026#34;時，稍後付款於信件中的說明 \u0026#34;is_allow_other_amount\u0026#34;: \u0026#34;1\u0026#34;, #是否允許自訂金額 \u0026#34;default_amount_id\u0026#34;: \u0026#34;689\u0026#34;, #內部定義金額 \u0026#34;thankyou_title\u0026#34;: \u0026#34;謝謝你的支持\u0026#34;, #感謝頁的標題 \u0026#34;is_for_organization\u0026#34;: \u0026#34;0\u0026#34;, #頁面是否允許組織填寫資訊捐款，\u0026#34;0\u0026#34;或\u0026#34;1\u0026#34; \u0026#34;for_organization\u0026#34;: \u0026#34;我代表組織捐款。\u0026#34;, #組織捐款時，標題為何 \u0026#34;is_email_receipt\u0026#34;: \u0026#34;1\u0026#34;, #是否寄送付款成功確認電子郵件，\u0026#34;0\u0026#34;或\u0026#34;1\u0026#34; \u0026#34;receipt_from_email\u0026#34;: \u0026#34;demo@demo.neticrm.tw\u0026#34;, #付款成功確認電子郵件的寄件人 \u0026#34;is_active\u0026#34;: \u0026#34;3\u0026#34;, #\u0026#34;0\u0026#34;，或\u0026#34;1\u0026#34;或\u0026#34;3\u0026#34; #\u0026#34;0\u0026#34; 表示停用募款頁，募款頁無法作用 #\u0026#34;1\u0026#34; 表示啟用募款頁，且是一般型態的募款頁 #\u0026#34;3\u0026#34; 表示啟用募款頁，且是特殊型態的募款頁 \u0026#34;footer_text\u0026#34;: \u0026#34;\u0026lt;p\u0026gt;OOOOOO\u0026lt;/p\u0026gt;\u0026#34;, #頁尾文字，允許HTML \u0026#34;amount_block_is_active\u0026#34;: \u0026#34;1\u0026#34;, #啟用金額區塊，\u0026#34;0\u0026#34;或\u0026#34;1\u0026#34; \u0026#34;honor_block_is_active\u0026#34;: \u0026#34;0\u0026#34;, #暫無用途，請略過 \u0026#34;currency\u0026#34;: \u0026#34;TWD\u0026#34;, #貨幣類型 \u0026#34;background_URL\u0026#34;: \u0026#34;https://full_domain_url/2001_a_space_odyssey_20_2WHxBLyd.jpg\u0026#34;, #當 is_active=\u0026#34;3\u0026#34;時使用的背景圖片 \u0026#34;mobile_background_URL\u0026#34;: \u0026#34;https://full_domain_url/442377_wxLADqLd.jpg\u0026#34;, #當 is_active=\u0026#34;3\u0026#34;時使用的手機背景圖片 \u0026#34;is_send_sms\u0026#34;: \u0026#34;0\u0026#34;, #目前無作用，固定為\u0026#34;0\u0026#34; \u0026#34;sms_text\u0026#34;: \u0026#34;\u0026#34;, #目前無作用 \u0026#34;goal_type\u0026#34;: \u0026#34;recuramount\u0026#34;, #啟用募款進度條、目標種類 \u0026#34;goal_label\u0026#34;: \u0026#34;每月定期目標金額\u0026#34;, #啟用募款進度條、目標種類的文字 \u0026#34;goal\u0026#34;: \u0026#34;1000.00\u0026#34;, #啟用募款頁進度條 #當goal_type=\u0026#34;recuramount\u0026#34;時，目標為每月的定期金額 #當goal_type=\u0026#34;amount\u0026#34;，目標為該募款頁的總累計金額 #當goal_type=\u0026#34;recurring\u0026#34;，目標為該募款頁的固定定期定額人數 \u0026#34;goal_achieved\u0026#34;: \u0026#34;0\u0026#34;, #是否達成目標，\u0026#34;0\u0026#34;或\u0026#34;1\u0026#34; \u0026#34;goal_achieved_current\u0026#34;: \u0026#34;100\u0026#34;, #達成目標的金額或是人數，請看\u0026#34;goal\u0026#34; \u0026#34;goal_achieved_percent\u0026#34;: \u0026#34;0\u0026#34;, #達成目標的百分比，0-100請看 \u0026#34;goal\u0026#34; \u0026#34;price_set_id\u0026#34;: \u0026#34;0\u0026#34;, #若啟用價格表，則為價格表ID，\u0026#34;0\u0026#34;表示未啟用價格表 \u0026#34;fee_block\u0026#34;: { #募款頁的價格 \u0026#34;recurring\u0026#34;: [ #僅於定期定額顯示的價格 { \u0026#34;label\u0026#34;: \u0026#34;OOO\u0026#34;, #價格的名稱 \u0026#34;value\u0026#34;: \u0026#34;100\u0026#34; #價格的金額 }, { \u0026#34;label\u0026#34;: \u0026#34;ORZ\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;444\u0026#34; } ], \u0026#34;non-recurring\u0026#34;: [ #僅於非定期定額顯示的價格 { \u0026#34;label\u0026#34;: \u0026#34;XXX\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;200\u0026#34; }, { \u0026#34;label\u0026#34;: \u0026#34;OMG\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;888\u0026#34; } ], \u0026#34;all\u0026#34;: [ #於定期、非定期皆顯示的價格 { \u0026#34;label\u0026#34;: \u0026#34;###\u0026#34;, \u0026#34;value\u0026#34;: \u0026#34;333\u0026#34; } ] } } ] } 取得募款頁、以及該募款頁的相關自訂欄位資料 透過查詢 API (get API)，取得募款頁，以及募款頁相關的自訂欄位資料。\n查詢範例 HTTP方法 GET Request URL \u0026lt;entrypoint\u0026gt;?entity=ContributionPage\u0026amp;action=get\u0026amp;json={\u0026quot;api.CustomValue.get\u0026quot;:{\u0026quot;entity_id\u0026quot;:\u0026quot;$value.id\u0026quot;}} API Explorer 路徑 /civicrm/apibrowser#/civicrm/ajax/rest?entity=ContributionPage\u0026amp;action=get\u0026amp;pretty=1\u0026amp;json={%22api.CustomValue.get%22:{%22entity_id%22:%22$value.id%22}} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=ContributionPage\u0026amp;action=get\u0026amp;json={\u0026quot;api.CustomValue.get\u0026quot;:{\u0026quot;entity_id\u0026quot;:\u0026quot;$value.id\u0026quot;}}' 回傳範例 { \u0026#34;is_error\u0026#34;: 0, #是否有錯誤 \u0026#34;version\u0026#34;: 3, #API的版本 \u0026#34;count\u0026#34;: 1, #此次查詢比數 \u0026#34;values\u0026#34;: [ #此次查詢結果 { ... #略，同 取得募款頁資料 \u0026#34;api.CustomValue.get\u0026#34;: { #取得額外自訂欄位資料 \u0026#34;is_error\u0026#34;: 0, \u0026#34;version\u0026#34;: 3, \u0026#34;count\u0026#34;: 3, #額外欄位數量 \u0026#34;values\u0026#34;: [ #取得額外自訂欄位資料的結果，每個欄位一個結果 { \u0026#34;entity_table\u0026#34;: \u0026#34;ContributionPage\u0026#34; #當自訂欄位關聯的不是聯絡人，就會顯示關聯的類型 }, { \u0026#34;entity_id\u0026#34;: \u0026#34;4\u0026#34;, #關聯的資料ID，此為募款頁ID \u0026#34;id\u0026#34;: \u0026#34;14\u0026#34;, #自訂欄位ID \u0026#34;latest\u0026#34;: \u0026#34;1\u0026#34;, #此自訂欄位的值，請略過此欄位 \u0026#34;0\u0026#34;: \u0026#34;1\u0026#34;, #此自訂欄位的值，請以此為準 \u0026#34;uri\u0026#34;: \u0026#34;https://\u0026lt;full_domain_url\u0026gt;/fake_image.jpg\u0026#34; #若自訂欄位為檔案時，且檔案為圖片時，回傳圖片的完整網址 }, { \u0026#34;entity_id\u0026#34;: \u0026#34;4\u0026#34;, #關聯的資料ID，此為募款頁ID \u0026#34;id\u0026#34;: \u0026#34;15\u0026#34;, #自訂欄位ID \u0026#34;latest\u0026#34;: \u0026#34;募款頁簡介募款頁簡介募款頁簡介募款頁簡介\u0026#34;, #此自訂欄位的值，請略過此欄位 \u0026#34;0\u0026#34;: \u0026#34;募款頁簡介募款頁簡介募款頁簡介募款頁簡介\u0026#34; #此自訂欄位的值，請以此為準 } ] } } ] } "
},
{
	"uri": "/api-document/3/contributionrecur/",
	"title": "Contribution Recurring API",
	"tags": [],
	"description": "",
	"content": "This is a API document about recurring contribution.\n   變數名稱 類型 長度 格式 建立規則 說明     id 數字(int unsigned) 10 \u0026gt;= 0 必填 Unique Contribution Recur ID   contact_id 數字(int unsigned) 10 \u0026gt;= 0 必填 Foreign key to civicrm_contact.id   amount 數字(decimal) 20,2 00.00 必填 Amount to be contributed or charged each recurrence.   currency 字串(varchar) 3  預設值: NULL 3 character string, value from config setting.   frequency_unit 字串(enum)  day,week,month,year 預設值: \u0026lsquo;month\u0026rsquo; Time units for recurrence of payment.   frequency_interval 數字(int unsigned) 10 \u0026gt;= 0 必填 Number of time units for recurrence of payment.   installments 數字(int unsigned) 10 \u0026gt;= 0  Total number of payments to be made. Set this to 0 if this is an open-ended commitment.   start_date 日期(datetime)  yyyy-mm-dd hh:ii:ss 必填 The date the first scheduled recurring contribution occurs.   create_date 日期(datetime)  yyyy-mm-dd hh:ii:ss 必填 When this recurring contribution record was created.   modified_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  Last updated date for this record. mostly the last time a payment was received   cancel_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  Date this recurring contribution was cancelled by contributor- if we can get access to it   end_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  Date this recurring contribution finished successfully   processor_id 數字(int unsigned) 10 \u0026gt;= 0  FK to Payment Processor   external_id 字串(varchar) 255   an external unique identifier for this recurring payment order provide by payment method   trxn_id 字串(varchar) 255   unique transaction id or this recurring defined by this application   invoice_id 字串(varchar) 255   unique invoice id, system generated or passed in   contribution_status_id 數字(int unsigned) 10 \u0026gt;= 0 預設值: 1 1=completed, 2=pending, 3=cancel, 4=failed, 5=in progress, 6=overdue, 7=suspend   is_test 布林值(boolean) 1 0 or 1 預設值: 0 Mark 1 when this order is an testing order.   cycle_day 數字(int unsigned) 10 \u0026gt;= 0 必填, 預設值: 1 Day in the period when the payment should be charged e.g. 1st of month, 15th etc.   next_sched_contribution 日期(datetime)  yyyy-mm-dd hh:ii:ss  Next payment day for display or execution(if needed).   failure_count 數字(int unsigned) 10 \u0026gt;= 0 預設值: 0 Number of failed charge attempts since last success.   failure_retry_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  Record retried date after payment fail retry.   auto_renew 布林值(boolean) 1 0 or 1 必填, 預設值: 0 Auto renew card expiration date when available.   last_execute_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  Last payment execution transaction date to prevent duplicate execution at the same frequency_unit.    Recurring Contribution Get API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution_recur\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:1} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution_recur\u0026amp;action=get\u0026amp;pretty=1\u0026amp;json={\u0026quot;id\u0026quot;:1} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution_recur\u0026amp;action=get\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 1, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;46\u0026quot;, \u0026quot;amount\u0026quot;: \u0026quot;500.00\u0026quot;, \u0026quot;currency\u0026quot;: \u0026quot;TWD\u0026quot;, \u0026quot;frequency_unit\u0026quot;: \u0026quot;month\u0026quot;, \u0026quot;frequency_interval\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;installments\u0026quot;: \u0026quot;12\u0026quot;, \u0026quot;start_date\u0026quot;: \u0026quot;2021-10-25 13:31:13\u0026quot;, \u0026quot;create_date\u0026quot;: \u0026quot;2021-10-01 13:31:13\u0026quot;, \u0026quot;modified_date\u0026quot;: \u0026quot;2021-11-29 13:31:13\u0026quot;, \u0026quot;trxn_id\u0026quot;: \u0026quot;NRLOHgp8jE\u0026quot;, \u0026quot;invoice_id\u0026quot;: \u0026quot;ae836EMdxfLyYG4AjhSK9u1h83hgO3Tx\u0026quot;, \u0026quot;contribution_status_id\u0026quot;: \u0026quot;5\u0026quot;, \u0026quot;is_test\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;cycle_day\u0026quot;: \u0026quot;5\u0026quot;, \u0026quot;next_sched_contribution\u0026quot;: \u0026quot;2021-11-25 13:31:13\u0026quot;, \u0026quot;failure_count\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;auto_renew\u0026quot;: \u0026quot;0\u0026quot; } ] } Recurring Contribution Create API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution_recur\u0026amp;action=create Request Content Type application/json Request body { \u0026quot;contact_id\u0026quot;: 47, \u0026quot;amount\u0026quot;: \u0026quot;500.00\u0026quot;, \u0026quot;currency\u0026quot;: \u0026quot;TWD\u0026quot;, \u0026quot;frequency_unit\u0026quot;: \u0026quot;month\u0026quot;, \u0026quot;frequency_interval\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;installments\u0026quot;: \u0026quot;12\u0026quot;, \u0026quot;start_date\u0026quot;: \u0026quot;2021-10-25 13:31:13\u0026quot;, \u0026quot;create_date\u0026quot;: \u0026quot;2021-10-01 13:31:13\u0026quot;, \u0026quot;cancel_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;end_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;processor_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;external_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;trxn_id\u0026quot;: \u0026quot;qYL8Pp0tLb\u0026quot;, \u0026quot;invoice_id\u0026quot;: \u0026quot;CXn30Uj2Cebpt1ZsQMwWv8Y5ABtn54VH\u0026quot;, \u0026quot;contribution_status_id\u0026quot;: 5, \u0026quot;is_test\u0026quot;: 0, \u0026quot;cycle_day\u0026quot;: 5, \u0026quot;next_sched_contribution\u0026quot;: \u0026quot;2021-11-25 13:31:13\u0026quot;, \u0026quot;failure_count\u0026quot;: 0, \u0026quot;failure_retry_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;auto_renew\u0026quot;: 0, \u0026quot;last_execute_date\u0026quot;: \u0026quot;\u0026quot; } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution_recur\u0026amp;action=create\u0026amp;pretty=1\u0026amp;json={\u0026quot;contact_id\u0026quot;:47,\u0026quot;amount\u0026quot;:\u0026quot;500.00\u0026quot;,\u0026quot;currency\u0026quot;:\u0026quot;TWD\u0026quot;,\u0026quot;frequency_unit\u0026quot;:\u0026quot;month\u0026quot;,\u0026quot;frequency_interval\u0026quot;:\u0026quot;1\u0026quot;,\u0026quot;installments\u0026quot;:\u0026quot;12\u0026quot;,\u0026quot;start_date\u0026quot;:\u0026quot;2021-10-25 13:31:13\u0026quot;,\u0026quot;create_date\u0026quot;:\u0026quot;2021-10-01 13:31:13\u0026quot;,\u0026quot;cancel_date\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;end_date\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;processor_id\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;external_id\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;trxn_id\u0026quot;:\u0026quot;qYL8Pp0tLb\u0026quot;,\u0026quot;invoice_id\u0026quot;:\u0026quot;CXn30Uj2Cebpt1ZsQMwWv8Y5ABtn54VH\u0026quot;,\u0026quot;contribution_status_id\u0026quot;:5,\u0026quot;is_test\u0026quot;:0,\u0026quot;cycle_day\u0026quot;:5,\u0026quot;next_sched_contribution\u0026quot;:\u0026quot;2021-11-25 13:31:13\u0026quot;,\u0026quot;failure_count\u0026quot;:0,\u0026quot;failure_retry_date\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;auto_renew\u0026quot;:0,\u0026quot;last_execute_date\u0026quot;:\u0026quot;\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;contact_id\u0026quot;:47,\u0026quot;amount\u0026quot;:\u0026quot;500.00\u0026quot;,\u0026quot;currency\u0026quot;:\u0026quot;TWD\u0026quot;,\u0026quot;frequency_unit\u0026quot;:\u0026quot;month\u0026quot;,\u0026quot;frequency_interval\u0026quot;:\u0026quot;1\u0026quot;,\u0026quot;installments\u0026quot;:\u0026quot;12\u0026quot;,\u0026quot;start_date\u0026quot;:\u0026quot;2021-10-25 13:31:13\u0026quot;,\u0026quot;create_date\u0026quot;:\u0026quot;2021-10-01 13:31:13\u0026quot;,\u0026quot;cancel_date\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;end_date\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;processor_id\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;external_id\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;trxn_id\u0026quot;:\u0026quot;qYL8Pp0tLb\u0026quot;,\u0026quot;invoice_id\u0026quot;:\u0026quot;CXn30Uj2Cebpt1ZsQMwWv8Y5ABtn54VH\u0026quot;,\u0026quot;contribution_status_id\u0026quot;:5,\u0026quot;is_test\u0026quot;:0,\u0026quot;cycle_day\u0026quot;:5,\u0026quot;next_sched_contribution\u0026quot;:\u0026quot;2021-11-25 13:31:13\u0026quot;,\u0026quot;failure_count\u0026quot;:0,\u0026quot;failure_retry_date\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;auto_renew\u0026quot;:0,\u0026quot;last_execute_date\u0026quot;:\u0026quot;\u0026quot;}' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution_recur\u0026amp;action=create' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 2, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;2\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;47\u0026quot;, \u0026quot;amount\u0026quot;: \u0026quot;500.00\u0026quot;, \u0026quot;currency\u0026quot;: \u0026quot;TWD\u0026quot;, \u0026quot;frequency_unit\u0026quot;: \u0026quot;month\u0026quot;, \u0026quot;frequency_interval\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;installments\u0026quot;: \u0026quot;12\u0026quot;, \u0026quot;start_date\u0026quot;: \u0026quot;20211025133113\u0026quot;, \u0026quot;create_date\u0026quot;: \u0026quot;20211001133113\u0026quot;, \u0026quot;modified_date\u0026quot;: \u0026quot;20211129133113\u0026quot;, \u0026quot;cancel_date\u0026quot;: \u0026quot;null\u0026quot;, \u0026quot;end_date\u0026quot;: \u0026quot;null\u0026quot;, \u0026quot;processor_id\u0026quot;: \u0026quot;null\u0026quot;, \u0026quot;external_id\u0026quot;: \u0026quot;null\u0026quot;, \u0026quot;trxn_id\u0026quot;: \u0026quot;qYL8Pp0tLb\u0026quot;, \u0026quot;invoice_id\u0026quot;: \u0026quot;CXn30Uj2Cebpt1ZsQMwWv8Y5ABtn54VH\u0026quot;, \u0026quot;contribution_status_id\u0026quot;: \u0026quot;5\u0026quot;, \u0026quot;is_test\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;cycle_day\u0026quot;: \u0026quot;5\u0026quot;, \u0026quot;next_sched_contribution\u0026quot;: \u0026quot;20211125133113\u0026quot;, \u0026quot;failure_count\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;failure_retry_date\u0026quot;: \u0026quot;null\u0026quot;, \u0026quot;auto_renew\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;last_execute_date\u0026quot;: \u0026quot;null\u0026quot; } ] } Recurring Contribution Update API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution_recur\u0026amp;action=create Request Content Type application/json Request body { \u0026quot;id\u0026quot;: 3, \u0026quot;contribution_status_id\u0026quot;: 1, \u0026quot;next_sched_contribution\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;end_date\u0026quot;: \u0026quot;2021-11-29 13:31:13\u0026quot; } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution_recur\u0026amp;action=create\u0026amp;pretty=1\u0026amp;json={\u0026quot;id\u0026quot;:3,\u0026quot;contribution_status_id\u0026quot;:1,\u0026quot;next_sched_contribution\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;end_date\u0026quot;:\u0026quot;2021-11-29 13:31:13\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;id\u0026quot;:3,\u0026quot;contribution_status_id\u0026quot;:1,\u0026quot;next_sched_contribution\u0026quot;:\u0026quot;\u0026quot;,\u0026quot;end_date\u0026quot;:\u0026quot;2021-11-29 13:31:13\u0026quot;}' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution_recur\u0026amp;action=create' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 3, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;3\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;48\u0026quot;, \u0026quot;amount\u0026quot;: \u0026quot;500.00\u0026quot;, \u0026quot;currency\u0026quot;: \u0026quot;TWD\u0026quot;, \u0026quot;frequency_unit\u0026quot;: \u0026quot;month\u0026quot;, \u0026quot;frequency_interval\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;installments\u0026quot;: \u0026quot;12\u0026quot;, \u0026quot;start_date\u0026quot;: \u0026quot;20211025133113\u0026quot;, \u0026quot;create_date\u0026quot;: \u0026quot;20211001133113\u0026quot;, \u0026quot;modified_date\u0026quot;: \u0026quot;20211129133113\u0026quot;, \u0026quot;cancel_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;end_date\u0026quot;: \u0026quot;20211129133113\u0026quot;, \u0026quot;processor_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;external_id\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;trxn_id\u0026quot;: \u0026quot;TpKKXvwiVo\u0026quot;, \u0026quot;invoice_id\u0026quot;: \u0026quot;Rzvma2K6NZh3ws1jWMDUvDyblbotfvD1\u0026quot;, \u0026quot;contribution_status_id\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;is_test\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;cycle_day\u0026quot;: \u0026quot;5\u0026quot;, \u0026quot;next_sched_contribution\u0026quot;: \u0026quot;null\u0026quot;, \u0026quot;failure_count\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;failure_retry_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;auto_renew\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;last_execute_date\u0026quot;: \u0026quot;\u0026quot; } ] } Recurring Contribution Delete API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution_recur\u0026amp;action=delete Request Content Type application/json Request body { \u0026quot;id\u0026quot;: 4 } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution_recur\u0026amp;action=delete\u0026amp;pretty=1\u0026amp;json={\u0026quot;id\u0026quot;:4} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;id\u0026quot;:4}' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution_recur\u0026amp;action=delete' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;values\u0026quot;: [] } "
},
{
	"uri": "/api-document/3/email/",
	"title": "Email API",
	"tags": [],
	"description": "",
	"content": "This is a API Document about Email.\n   變數名稱 類型 長度 格式 建立規則 說明     id 數字(int unsigned) 10 \u0026gt;= 0 必填 Unique Email ID   contact_id 數字(int unsigned) 10 \u0026gt;= 0  FK to Contact ID   location_type_id 數字(int unsigned) 10 \u0026gt;= 0  Which Location does this email belong to.   email 字串(varchar) 64   Email address   is_primary 布林值(boolean) 1 0 or 1 預設值: 0 Is this the primary email for this contact and location.   is_billing 布林值(boolean) 1 0 or 1 預設值: 0 Is this the billing?   on_hold 布林值(boolean) 1 0 or 1 必填, 預設值: 0 Is this address on bounce hold?   is_bulkmail 布林值(boolean) 1 0 or 1 必填, 預設值: 0 Is this address for bulk mail ?   hold_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  When the address went on bounce hold   reset_date 日期(datetime)  yyyy-mm-dd hh:ii:ss  When the address bounce status was last reset   signature_text 字串(text) 65535  預設值: NULL Text formatted signature for the email.   signature_html 字串(text) 65535  預設值: NULL HTML formatted signature for the email.    Email Get API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=Email\u0026amp;action=get\u0026amp;json={\u0026quot;contact_id\u0026quot;:21,\u0026quot;location_type_id\u0026quot;:6,\u0026quot;email\u0026quot;:\u0026quot;api.test@civicrm.test.org\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Email\u0026amp;action=get\u0026amp;pretty=1\u0026amp;json={\u0026quot;contact_id\u0026quot;:21,\u0026quot;location_type_id\u0026quot;:6,\u0026quot;email\u0026quot;:\u0026quot;api.test@civicrm.test.org\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=Email\u0026amp;action=get\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 22, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;22\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;21\u0026quot;, \u0026quot;location_type_id\u0026quot;: \u0026quot;6\u0026quot;, \u0026quot;email\u0026quot;: \u0026quot;api.test@civicrm.test.org\u0026quot;, \u0026quot;is_primary\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;is_billing\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;on_hold\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;is_bulkmail\u0026quot;: \u0026quot;0\u0026quot; } ] } Email Create API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=Email\u0026amp;action=create Request Content Type application/json Request body { \u0026quot;contact_id\u0026quot;: 22, \u0026quot;location_type_id\u0026quot;: 8, \u0026quot;email\u0026quot;: \u0026quot;api.test@civicrm.test.org\u0026quot;, \u0026quot;is_primary\u0026quot;: 1 } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Email\u0026amp;action=create\u0026amp;pretty=1\u0026amp;json={\u0026quot;contact_id\u0026quot;:22,\u0026quot;location_type_id\u0026quot;:8,\u0026quot;email\u0026quot;:\u0026quot;api.test@civicrm.test.org\u0026quot;,\u0026quot;is_primary\u0026quot;:1} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;contact_id\u0026quot;:22,\u0026quot;location_type_id\u0026quot;:8,\u0026quot;email\u0026quot;:\u0026quot;api.test@civicrm.test.org\u0026quot;,\u0026quot;is_primary\u0026quot;:1}' \\ '\u0026lt;entrypoint\u0026gt;?entity=Email\u0026amp;action=create' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 23, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;23\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;22\u0026quot;, \u0026quot;location_type_id\u0026quot;: \u0026quot;8\u0026quot;, \u0026quot;email\u0026quot;: \u0026quot;api.test@civicrm.test.org\u0026quot;, \u0026quot;is_primary\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;is_billing\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;on_hold\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;is_bulkmail\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;hold_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;reset_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;signature_text\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;signature_html\u0026quot;: \u0026quot;\u0026quot; } ] } Email Update API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=Email\u0026amp;action=create Request Content Type application/json Request body { \u0026quot;contact_id\u0026quot;: 26, \u0026quot;location_type_id\u0026quot;: 16, \u0026quot;email\u0026quot;: \u0026quot;test.update@civicrm.test.org\u0026quot;, \u0026quot;is_primary\u0026quot;: 1, \u0026quot;id\u0026quot;: 27 } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Email\u0026amp;action=create\u0026amp;pretty=1\u0026amp;json={\u0026quot;contact_id\u0026quot;:26,\u0026quot;location_type_id\u0026quot;:16,\u0026quot;email\u0026quot;:\u0026quot;test.update@civicrm.test.org\u0026quot;,\u0026quot;is_primary\u0026quot;:1,\u0026quot;id\u0026quot;:27} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;contact_id\u0026quot;:26,\u0026quot;location_type_id\u0026quot;:16,\u0026quot;email\u0026quot;:\u0026quot;test.update@civicrm.test.org\u0026quot;,\u0026quot;is_primary\u0026quot;:1,\u0026quot;id\u0026quot;:27}' \\ '\u0026lt;entrypoint\u0026gt;?entity=Email\u0026amp;action=create' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;id\u0026quot;: 27, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;27\u0026quot;, \u0026quot;contact_id\u0026quot;: \u0026quot;26\u0026quot;, \u0026quot;location_type_id\u0026quot;: \u0026quot;16\u0026quot;, \u0026quot;email\u0026quot;: \u0026quot;test.update@civicrm.test.org\u0026quot;, \u0026quot;is_primary\u0026quot;: \u0026quot;1\u0026quot;, \u0026quot;is_billing\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;on_hold\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;is_bulkmail\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;hold_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;reset_date\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;signature_text\u0026quot;: \u0026quot;\u0026quot;, \u0026quot;signature_html\u0026quot;: \u0026quot;\u0026quot; } ] } Email Delete API 傳送範例 HTTP Method POST Request URL \u0026lt;entrypoint\u0026gt;?entity=Email\u0026amp;action=delete Request Content Type application/json Request body { \u0026quot;id\u0026quot;: 28 } API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=Email\u0026amp;action=delete\u0026amp;pretty=1\u0026amp;json={\u0026quot;id\u0026quot;:28} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ --header 'content-type: application/json' \\ --request POST \\ --data '{\u0026quot;id\u0026quot;:28}' \\ '\u0026lt;entrypoint\u0026gt;?entity=Email\u0026amp;action=delete' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;values\u0026quot;: 1 } "
},
{
	"uri": "/api-document/3/event/",
	"title": "Event API",
	"tags": [],
	"description": "",
	"content": "取得活動頁資料 透過 get API ，可取得 CRM 網站上活動資訊\n查詢範例 HTTP方法 GET\nRequest URL 取得所有活動頁 \u0026lt;entrypoint\u0026gt;?entity=Event\u0026amp;action=get\n取得活動編號6的活動頁 \u0026lt;entrypoint\u0026gt;?entity=Event\u0026amp;action=get\u0026amp;json={\u0026quot;id\u0026quot;:\u0026quot;6\u0026quot;}\nAPI Explorer 路徑 https://\u0026lt;site-domain\u0026gt;/civicrm/apibrowser#/civicrm/ajax/rest?entity=Event\u0026amp;action=get\u0026amp;pretty=1\nCURL 發送範例 curl -g \\ --header \u0026#39;x-civicrm-api-key: \u0026lt;secret-key\u0026gt;\u0026#39; --header \u0026#39;x-civicrm-site-key: \u0026lt;site-key\u0026gt;\u0026#39; \\ \u0026#39;\u0026lt;entrypoint\u0026gt;?entity=Event\u0026amp;action=get\u0026#39; 回傳範例 { \u0026quot;is_error\u0026quot;: 0, #是否有錯誤 \u0026quot;version\u0026quot;: 3, #API的版本 \u0026quot;count\u0026quot;: 1, #此次查詢比數 \u0026quot;values\u0026quot;: [ #此次查詢結果 { \u0026quot;id\u0026quot;: \u0026quot;9\u0026quot;, #活動編號 \u0026quot;title\u0026quot;: \u0026quot;OOOO\u0026quot;, #活動標題 \u0026quot;event_title\u0026quot;: \u0026quot;OOOO\u0026quot;, #同上 \u0026quot;event_type_id\u0026quot;: \u0026quot;1\u0026quot;, #活動類型 \u0026quot;is_public\u0026quot;: \u0026quot;1\u0026quot;, #是否為公開活動，未公開活動仍可存取、報名\u0026quot;0\u0026quot;或\u0026quot;1\u0026quot; \u0026quot;start_date\u0026quot;: \u0026quot;2020-12-24 16:01:00\u0026quot;, #活動開始日期時間（時區固定為Asia/Taipei） \u0026quot;event_start_date\u0026quot;: \u0026quot;2020-12-24 16:01:00\u0026quot;, #同上 \u0026quot;is_online_registration\u0026quot;: \u0026quot;1\u0026quot;, #是否允許線上報名，\u0026quot;0\u0026quot;或\u0026quot;1\u0026quot;，\u0026quot;0\u0026quot;時無法線上報名 \u0026quot;is_qrcode\u0026quot;: \u0026quot;0\u0026quot;, #是否啟用報到碼 \u0026quot;registration_start_date\u0026quot;: \u0026quot;2020-01-13 00:00:00\u0026quot;, #報名開始日期時間 \u0026quot;registration_end_date\u0026quot;: \u0026quot;2020-01-21 00:00:00\u0026quot;, #報名截止日期時間 \u0026quot;max_participants\u0026quot;: \u0026quot;5\u0026quot;, #活動名額（最大參加數量），若未限制，則無此欄位 \u0026quot;event_full_text\u0026quot;: \u0026quot;此活動目前已報名額滿。\u0026quot;, #額滿時，出現的文字 \u0026quot;is_monetary\u0026quot;: \u0026quot;0\u0026quot;, #活動是否啟付費功能，\u0026quot;0\u0026quot;或\u0026quot;1\u0026quot; \u0026quot;contribution_type_id\u0026quot;: \u0026quot;0\u0026quot;, #當is_monetary=\u0026quot;1\u0026quot;時，需要有費用類型的編號 \u0026quot;is_map\u0026quot;: \u0026quot;0\u0026quot;, #活動是否顯示地圖於地點 \u0026quot;is_active\u0026quot;: \u0026quot;1\u0026quot;, #活動是否啟用，\u0026quot;0\u0026quot;為停用或\u0026quot;1\u0026quot;啟用，當活動停用時，活動無法存取、報名 \u0026quot;is_show_location\u0026quot;: \u0026quot;1\u0026quot;, #活動是否顯示活動地點 \u0026quot;loc_block_id\u0026quot;: \u0026quot;5\u0026quot;, #內部紀錄，請略過 \u0026quot;default_role_id\u0026quot;: \u0026quot;1\u0026quot;, #活動的參加者預設角色 \u0026quot;is_email_confirm\u0026quot;: \u0026quot;0\u0026quot;, #是否寄送報名確認信件，\u0026quot;0\u0026quot;或\u0026quot;1\u0026quot; \u0026quot;allow_cancel_by_link\u0026quot;: \u0026quot;0\u0026quot;, #當is_email_confirm=\u0026quot;1\u0026quot;時，是否包含取消活動報名的連結 \u0026quot;is_pay_later\u0026quot;: \u0026quot;0\u0026quot;, #是否啟用稍後付款，僅於is_monetary=\u0026quot;1\u0026quot;時有用 \u0026quot;is_multiple_registrations\u0026quot;: \u0026quot;0\u0026quot;, #一次是否可報名多位參加者，\u0026quot;0\u0026quot;或\u0026quot;1\u0026quot; \u0026quot;allow_same_participant_emails\u0026quot;: \u0026quot;0\u0026quot;, #多位參加者報名時，是否允許用相同Email，\u0026quot;0\u0026quot;或\u0026quot;1\u0026quot; \u0026quot;has_waitlist\u0026quot;: \u0026quot;0\u0026quot;, #是否啟用了候補功能，\u0026quot;0\u0026quot;或\u0026quot;1\u0026quot; \u0026quot;waitlist_text\u0026quot;: \u0026quot;此活動已額滿，您的報名將列為候補，若有名額將再通知您完成報名。\u0026quot;, #候補功能時，名額已滿的顯示文字 \u0026quot;is_template\u0026quot;: \u0026quot;0\u0026quot;, #是否為活動範本，固定為\u0026quot;0\u0026quot; \u0026quot;template_title\u0026quot;: \u0026quot;有名額限制，不開放候補\u0026quot;, #活動範本的標題，請略過 \u0026quot;created_id\u0026quot;: \u0026quot;1\u0026quot;, #活動建立者的聯絡人編號 \u0026quot;created_date\u0026quot;: \u0026quot;2020-12-24 16:01:35\u0026quot;, #活動建立時的日期時間 \u0026quot;available_places\u0026quot;: \u0026quot;5\u0026quot;, #活動剩餘名額，若未限制max_participants時，此固定為\u0026quot;\u0026quot; \u0026quot;is_full\u0026quot;: \u0026quot;0\u0026quot;, #活動是否額滿，若已額滿，為\u0026quot;1\u0026quot;，未額滿，為\u0026quot;0\u0026quot; #當未提供max_participants時，永遠為\u0026quot;0\u0026quot; \u0026quot;location_address\u0026quot;: \u0026quot;512 彰化縣永靖鄉ABCD\u0026quot;, #活動地點完整地址 \u0026quot;location_phone\u0026quot;: \u0026quot;0955533333\u0026quot;, #活動資訊聯絡電話 \u0026quot;location_email\u0026quot;: \u0026quot;jjj@bbb.com\u0026quot; #活動資訊聯絡Email \u0026quot;is_discount\u0026quot;: \u0026quot;0\u0026quot;, #活動是否提供早鳥優惠，\u0026quot;0\u0026quot;或\u0026quot;1\u0026quot; \u0026quot;price_set_id\u0026quot;: \u0026quot;0\u0026quot;, #若啟用價格表，則為價格表ID，\u0026quot;0\u0026quot;表示未啟用價格表 \u0026quot;fee_block\u0026quot;: [ #活動費用，每個項目一個費用 { \u0026quot;label\u0026quot;: \u0026quot;OOO\u0026quot;, #費用名稱 \u0026quot;value\u0026quot;: \u0026quot;111\u0026quot; #費用金額 }, { \u0026quot;label\u0026quot;: \u0026quot;PPP\u0026quot;, \u0026quot;value\u0026quot;: \u0026quot;222\u0026quot; } ] } ] } "
},
{
	"uri": "/api-document/3/getoptions/",
	"title": "Get Options API",
	"tags": [],
	"description": "",
	"content": "This is a API document about getoptions action.\n\u0026lt;field_name\u0026gt; options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=\u0026lt;entity\u0026gt;\u0026amp;action=getoptions\u0026amp;json= curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=\u0026lt;entity\u0026gt;\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 3, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1001, \u0026quot;label\u0026quot;: \u0026quot;example label 1\u0026quot; }, { \u0026quot;value\u0026quot;: 1002, \u0026quot;label\u0026quot;: \u0026quot;example label 2\u0026quot; }, { \u0026quot;value\u0026quot;: 1003, \u0026quot;label\u0026quot;: \u0026quot;example label 3\u0026quot; } ] } contact_type options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=null API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json=null curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=null' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 3, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: \u0026quot;Individual\u0026quot;, \u0026quot;label\u0026quot;: \u0026quot;個人\u0026quot; }, { \u0026quot;value\u0026quot;: \u0026quot;Household\u0026quot;, \u0026quot;label\u0026quot;: \u0026quot;家庭\u0026quot; }, { \u0026quot;value\u0026quot;: \u0026quot;Organization\u0026quot;, \u0026quot;label\u0026quot;: \u0026quot;組織\u0026quot; } ] } contact_sub_type options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;contact_sub_type\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;contact_sub_type\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;values\u0026quot;: [ { \u0026quot;id\u0026quot;: \u0026quot;4\u0026quot;, \u0026quot;name\u0026quot;: \u0026quot;NPO\u0026quot;, \u0026quot;label\u0026quot;: \u0026quot;NPO\u0026quot;, \u0026quot;parent\u0026quot;: \u0026quot;Organization\u0026quot;, \u0026quot;value\u0026quot;: \u0026quot;4\u0026quot; } ] } prefix_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;prefix_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;prefix_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 4, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;女士\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;小姐\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;先生\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;博士\u0026quot; } ] } suffix_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;suffix_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;suffix_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 8, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;Jr.\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;Sr.\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;II\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;III\u0026quot; }, { \u0026quot;value\u0026quot;: 5, \u0026quot;label\u0026quot;: \u0026quot;IV\u0026quot; }, { \u0026quot;value\u0026quot;: 6, \u0026quot;label\u0026quot;: \u0026quot;V\u0026quot; }, { \u0026quot;value\u0026quot;: 7, \u0026quot;label\u0026quot;: \u0026quot;VI\u0026quot; }, { \u0026quot;value\u0026quot;: 8, \u0026quot;label\u0026quot;: \u0026quot;VII\u0026quot; } ] } gender_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;gender_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;gender_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 3, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;女\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;男\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;跨性別\u0026quot; } ] } location_type_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;location_type_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;location_type_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 5, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;主要\u0026quot; }, { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;住家\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;其他\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;工作\u0026quot; }, { \u0026quot;value\u0026quot;: 5, \u0026quot;label\u0026quot;: \u0026quot;帳單\u0026quot; } ] } worldregion_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;worldregion_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;worldregion_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 6, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;Europe and Central Asia\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;America South, Central, North and Caribbean\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;Middle East and North Africa\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;Asia-Pacific\u0026quot; }, { \u0026quot;value\u0026quot;: 5, \u0026quot;label\u0026quot;: \u0026quot;Africa West, East, Central and Southern\u0026quot; }, { \u0026quot;value\u0026quot;: 99, \u0026quot;label\u0026quot;: \u0026quot;unassigned\u0026quot; } ] } country_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;country_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;country_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 2, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1228, \u0026quot;label\u0026quot;: \u0026quot;美國\u0026quot; }, { \u0026quot;value\u0026quot;: 1208, \u0026quot;label\u0026quot;: \u0026quot;臺灣\u0026quot; } ] } state_province_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;state_province_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;state_province_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 22, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 4855, \u0026quot;label\u0026quot;: \u0026quot;南投縣\u0026quot; }, { \u0026quot;value\u0026quot;: 5222, \u0026quot;label\u0026quot;: \u0026quot;嘉義市\u0026quot; }, { \u0026quot;value\u0026quot;: 4849, \u0026quot;label\u0026quot;: \u0026quot;嘉義縣\u0026quot; }, { \u0026quot;value\u0026quot;: 4864, \u0026quot;label\u0026quot;: \u0026quot;基隆市\u0026quot; }, { \u0026quot;value\u0026quot;: 4852, \u0026quot;label\u0026quot;: \u0026quot;宜蘭縣\u0026quot; }, { \u0026quot;value\u0026quot;: 4857, \u0026quot;label\u0026quot;: \u0026quot;屏東縣\u0026quot; }, { \u0026quot;value\u0026quot;: 4848, \u0026quot;label\u0026quot;: \u0026quot;彰化縣\u0026quot; }, { \u0026quot;value\u0026quot;: 4860, \u0026quot;label\u0026quot;: \u0026quot;新北市\u0026quot; }, { \u0026quot;value\u0026quot;: 5223, \u0026quot;label\u0026quot;: \u0026quot;新竹市\u0026quot; }, { \u0026quot;value\u0026quot;: 4850, \u0026quot;label\u0026quot;: \u0026quot;新竹縣\u0026quot; }, { \u0026quot;value\u0026quot;: 4862, \u0026quot;label\u0026quot;: \u0026quot;桃園市\u0026quot; }, { \u0026quot;value\u0026quot;: 4856, \u0026quot;label\u0026quot;: \u0026quot;澎湖縣\u0026quot; }, { \u0026quot;value\u0026quot;: 5219, \u0026quot;label\u0026quot;: \u0026quot;臺中市\u0026quot; }, { \u0026quot;value\u0026quot;: 5221, \u0026quot;label\u0026quot;: \u0026quot;臺北市\u0026quot; }, { \u0026quot;value\u0026quot;: 5224, \u0026quot;label\u0026quot;: \u0026quot;臺南市\u0026quot; }, { \u0026quot;value\u0026quot;: 4861, \u0026quot;label\u0026quot;: \u0026quot;臺東縣\u0026quot; }, { \u0026quot;value\u0026quot;: 4851, \u0026quot;label\u0026quot;: \u0026quot;花蓮縣\u0026quot; }, { \u0026quot;value\u0026quot;: 4854, \u0026quot;label\u0026quot;: \u0026quot;苗栗縣\u0026quot; }, { \u0026quot;value\u0026quot;: 5225, \u0026quot;label\u0026quot;: \u0026quot;連江縣\u0026quot; }, { \u0026quot;value\u0026quot;: 5226, \u0026quot;label\u0026quot;: \u0026quot;金門縣\u0026quot; }, { \u0026quot;value\u0026quot;: 4863, \u0026quot;label\u0026quot;: \u0026quot;雲林縣\u0026quot; }, { \u0026quot;value\u0026quot;: 5220, \u0026quot;label\u0026quot;: \u0026quot;高雄市\u0026quot; } ] } phone_type_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;phone_type_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;phone_type_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 5, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;行動電話\u0026quot; }, { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;電話\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;傳真\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;呼叫器\u0026quot; }, { \u0026quot;value\u0026quot;: 5, \u0026quot;label\u0026quot;: \u0026quot;語音郵件\u0026quot; } ] } provider_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;provider_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contact\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;provider_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contact\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 3, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 6, \u0026quot;label\u0026quot;: \u0026quot;Skype\u0026quot; }, { \u0026quot;value\u0026quot;: 7, \u0026quot;label\u0026quot;: \u0026quot;LINE\u0026quot; }, { \u0026quot;value\u0026quot;: 8, \u0026quot;label\u0026quot;: \u0026quot;Facebook\u0026quot; } ] } contribution_type_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;contribution_type_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;contribution_type_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 4, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;一般捐款\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;指定捐款\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;會費\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;活動費用\u0026quot; } ] } contribution_page_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;contribution_page_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;contribution_page_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 4, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;捐款贊助\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;捐款贊助\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;捐款贊助\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;捐款贊助\u0026quot; } ] } contribution_status_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;contribution_status_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;contribution_status_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 7, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;已完成\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;待處理\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;已取消\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;已失敗\u0026quot; }, { \u0026quot;value\u0026quot;: 5, \u0026quot;label\u0026quot;: \u0026quot;進行中\u0026quot; }, { \u0026quot;value\u0026quot;: 6, \u0026quot;label\u0026quot;: \u0026quot;已過期\u0026quot; }, { \u0026quot;value\u0026quot;: 7, \u0026quot;label\u0026quot;: \u0026quot;暫停中\u0026quot; } ] } currency options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;currency\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;currency\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 1, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: \u0026quot;TWD\u0026quot;, \u0026quot;label\u0026quot;: \u0026quot;TWD (NT$)\u0026quot; } ] } payment_instrument_id options API 傳送範例 HTTP Method GET Request URL \u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;payment_instrument_id\u0026quot;} API Explorer /civicrm/apibrowser#/civicrm/ajax/rest?entity=contribution\u0026amp;action=getoptions\u0026amp;pretty=1\u0026amp;json={\u0026quot;field\u0026quot;:\u0026quot;payment_instrument_id\u0026quot;} curl Example curl -g \\ --header 'x-civicrm-api-key: \u0026lt;secret-key\u0026gt;' \\ --header 'x-civicrm-site-key: \u0026lt;site-key\u0026gt;' \\ '\u0026lt;entrypoint\u0026gt;?entity=contribution\u0026amp;action=getoptions\u0026amp;json=' 回傳範例 { \u0026quot;is_error\u0026quot;: 0, \u0026quot;version\u0026quot;: 3, \u0026quot;count\u0026quot;: 18, \u0026quot;values\u0026quot;: [ { \u0026quot;value\u0026quot;: 10, \u0026quot;label\u0026quot;: \u0026quot;超商代碼\u0026quot; }, { \u0026quot;value\u0026quot;: 9, \u0026quot;label\u0026quot;: \u0026quot;超商條碼繳費\u0026quot; }, { \u0026quot;value\u0026quot;: 12, \u0026quot;label\u0026quot;: \u0026quot;ATM 轉帳\u0026quot; }, { \u0026quot;value\u0026quot;: 1, \u0026quot;label\u0026quot;: \u0026quot;信用卡\u0026quot; }, { \u0026quot;value\u0026quot;: 20, \u0026quot;label\u0026quot;: \u0026quot;支付寶\u0026quot; }, { \u0026quot;value\u0026quot;: 15, \u0026quot;label\u0026quot;: \u0026quot;Apple Pay\u0026quot; }, { \u0026quot;value\u0026quot;: 17, \u0026quot;label\u0026quot;: \u0026quot;LINE Pay\u0026quot; }, { \u0026quot;value\u0026quot;: 16, \u0026quot;label\u0026quot;: \u0026quot;Google Pay\u0026quot; }, { \u0026quot;value\u0026quot;: 13, \u0026quot;label\u0026quot;: \u0026quot;Yahoo公益\u0026quot; }, { \u0026quot;value\u0026quot;: 7, \u0026quot;label\u0026quot;: \u0026quot;信用卡定期定額（非線上）\u0026quot; }, { \u0026quot;value\u0026quot;: 8, \u0026quot;label\u0026quot;: \u0026quot;郵政劃撥\u0026quot; }, { \u0026quot;value\u0026quot;: 6, \u0026quot;label\u0026quot;: \u0026quot;信用卡（非線上）\u0026quot; }, { \u0026quot;value\u0026quot;: 2, \u0026quot;label\u0026quot;: \u0026quot;簽帳卡\u0026quot; }, { \u0026quot;value\u0026quot;: 3, \u0026quot;label\u0026quot;: \u0026quot;現金\u0026quot; }, { \u0026quot;value\u0026quot;: 4, \u0026quot;label\u0026quot;: \u0026quot;支票\u0026quot; }, { \u0026quot;value\u0026quot;: 5, \u0026quot;label\u0026quot;: \u0026quot;電子轉帳（EFT）\u0026quot; }, { \u0026quot;value\u0026quot;: 18, \u0026quot;label\u0026quot;: \u0026quot;ACH 銀行\u0026quot; }, { \u0026quot;value\u0026quot;: 19, \u0026quot;label\u0026quot;: \u0026quot;ACH 郵局\u0026quot; } ] } "
},
{
	"uri": "/api-document/3/",
	"title": "netiCRM API v3 簡介",
	"tags": [],
	"description": "",
	"content": "API 簡介 netiCRM API 可藉由後端觸發的 Curl 程式取得 CRM 資料，此功能並非一開站即設定完成，需先向 Netivism 申請後才會開通，預設並未啟用此功能。\nAPI 使用入口 本文件所述的 表示網站網域名稱 本文件所有的 ，也就是 API 的入口如下\nhttps://\u0026lt;site-domain\u0026gt;/sites/all/modules/civicrm/extern/rest.php 之後文件所述的替代符號，皆是此網址，也請注意，網址需要將替換為自己網站的網域名稱。\nAPI 認證 API 取得認證金鑰流程  請新增一個網站使用者帳號，密碼建議為亂數，接著填寫聯絡人的個資，並確保網站使用者有連結該聯絡人 請為該使用者帳號設定角色（參考權限控管） 透過 netiCRM 客服設定後，會透過系統產生一組 API Secret Key 儲存於聯絡人中 存取請都帶入API Secret Key，等同於該登入的使用者操作網站（參考API 認證金鑰使用流程） 同一個聯絡人、網站使用者，只能有一組API Secret Key  API 認證金鑰使用流程 請於每次請求加入指定的API Secret Key、Site Key，建議驗證方式為使用 HTTP Header 加入這兩個密鑰，密鑰取得方式如下：\n API的 需要由 netiCRM 客服協助設定 API的 則於網站登入後，可以於「設定\u0026gt;則於網站登入後，可以於「設定 \u0026gt; 全域設定 \u0026gt; CiviCRM 私密金鑰 」中呈現。(網址路徑：https://\u0026lt;site-domain\u0026gt;/civicrm/admin/setting?reset=1)  密鑰的 HTTP Header 格式如下： x-civicrm-api-key: \u0026lt;secret-key\u0026gt; x-civicrm-site-key: \u0026lt;site-key\u0026gt;\ncurl 操作範例： \u0026lt;entrypoint\u0026gt;、\u0026lt;secret-key\u0026gt;、\u0026lt;site-key\u0026gt;、\u0026lt;entity-name\u0026gt;請自行替換\ncurl -g \\ --header \u0026#39;x-civicrm-api-key: \u0026lt;secret-key\u0026gt;\u0026#39; \\ --header \u0026#39;x-civicrm-site-key: \u0026lt;site-key\u0026gt;\u0026#39; \\ \u0026#39;\u0026lt;entrypoint\u0026gt;?entity=\u0026lt;entity-name\u0026gt;\u0026amp;action=get\u0026#39; API 限制  頻率限制：系統有針對連線、IP進行流量控管，並會針對太過頻繁存取的IP自動封鎖。大量抓取資料時，請每次Request間隔0.5秒或以上，以免影響線上網站運作。 抓取數量限制：預設抓取數量為每次Request 25筆，改變數量請參照取得特定數量資料的方式，然而一次獲取數量將有上限100筆的限制。  API 請求方法 目前提供 POST / GET 方式儲存、刪除以及取得資料\n   METHOD 用法 Request Header Content-Type     GET 取得單筆或多筆資料 API忽略傳入的Content Type請求，網址若帶入json(小寫)參數，將可以進行進階查詢   POST 新增或刪除單筆資料 Content Type為application/json時：整個Request Body需要是合法的JSON物件   POST 新增或刪除單筆資料 Content Type為其他時，如 Content-Type: application/x-www-form-urlencoded：需要傳入json欄位值    權限控管 API 的權限為綁定聯絡人所連結的網站使用者決定。簡而言之，該使用者的角色決定了API有哪些權限。詳細權限設定，可參考網站中的權限設定。 https://\u0026lt;site-domain\u0026gt;/admin/people/permissions\n注意：若使用者需要能連到 API Explorer，需有 administer CiviCRM 權限。\n回傳格式 預設回傳格式為JSON，並會於回應的類型中，在 HTTP Response Header 加入 Content-Type 宣告 Content-Type: application/json\n若 Url 代入參數 pretty=1，則回傳的 JSON 會有易讀性排版的格式。\n範例，上述呼叫 ?entity=Contact\u0026amp;action=get\u0026amp;pretty=1` 的回傳結果：\n{ \u0026#34;is_error\u0026#34;: 0, \u0026#34;version\u0026#34;: 3, \u0026#34;count\u0026#34;: 25, \u0026#34;values\u0026#34;: [ { \u0026#34;contact_id\u0026#34;: \u0026#34;1\u0026#34;, \u0026#34;contact_type\u0026#34;: \u0026#34;Individual\u0026#34;, \u0026#34;contact_sub_type\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;sort_name\u0026#34;: \u0026#34;林怡君\u0026#34;, \u0026#34;display_name\u0026#34;: \u0026#34;林怡君\u0026#34;, ...... \u0026#34;id\u0026#34;: \u0026#34;1\u0026#34; }, ...... ] } API Explorer 使用管理員帳號，進入到 netiCRM 網站的 https://\u0026lt;site-domain\u0026gt;/civicrm/apibrowser 網址，可透過網頁 UI 介面取得或測試相關的 API。\n"
},
{
	"uri": "/api-document/",
	"title": "netiCRM API 手冊",
	"tags": [],
	"description": "",
	"content": "這裡是 netiCRM API 的手冊，請點選左側導覽瀏覽章節\n"
},
{
	"uri": "/api-document/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/api-document/webhook/",
	"title": "Webhook API 簡介",
	"tags": [],
	"description": "",
	"content": "Webhook API 簡介 可以自訂當捐款者捐款交易完成後，以及通知最新一筆捐款交易的資訊到指定的網址。 利用 HTTP POST 傳送請求，帶入指定參數可以進行Webhook的觸發動作。\nWebhook API 使用入口 本文件所述的 表示網站網域名稱 本文件所有的 ，也就是 API 的入口，為CRM的活動頁或募款頁\nhttps://\u0026lt;site-domain\u0026gt;/civicrm/contribute/transact?reset=1\u0026amp;id=\u0026lt;page_id\u0026gt; https://\u0026lt;site-domain\u0026gt;/civicrm/event/info?reset=1\u0026amp;id=\u0026lt;event_id\u0026gt; 之後文件所述的替代符號，皆是此網址，也請注意，網址需要將替換為自己網站的網域名稱。\n設定 netiCRM的網站設定中，需要事先設定完以下常數，Webhook僅會於指定的網域驗證通過後觸發。\n以https開頭指定Webhook網域: \u0026lt;civicrm_webhook_domain\u0026gt; 驗證用的Secret: \u0026lt;civicrm_webhook_secret\u0026gt;\n下文將會以這兩個變數說明\nRedirection Webhook _wh_redirect 回傳value中的網址，進行轉址。設定轉址網址只需要更改value雙引號中間的網址。\n發送範例 HTTP 方法 POST Request Content Type application/x-www-form-urlencoded Request URL \u0026lt;entrypoint\u0026gt; Request Body _wh_redirect=\u0026lt;civicrm_webhook_domain\u0026gt;/your-redirection-path curl 發送範例 curl \\ --request POST -d \u0026#39;_wh_redirect=\u0026lt;civicrm_webhook_domain\u0026gt;/your-redirection-path\u0026#39; \\ \u0026#39;\u0026lt;endpoint\u0026gt;\u0026#39; Notification Webhook 發送範例 HTTP 方法 POST Request Content Type application/x-www-form-urlencoded Request URL \u0026lt;entrypoint\u0026gt; Request Body _wh_notify=\u0026lt;civicrm_webhook_domain\u0026gt;/your-notification-path curl 發送範例 curl \\  --request POST -d \u0026#39;_wh_notify=\u0026lt;civicrm_webhook_domain\u0026gt;/your-notification-path\u0026#39; \\  \u0026#39;\u0026lt;endpoint\u0026gt;\u0026#39; 回傳範例 回傳的捐款資訊會通知到指定的網址。回傳的捐款資訊內容請見下方回傳格式的範例。\nResponse Header: 記錄網站網域、捐款通知回傳的格式、WebhookID與內容的字數\nContent-Type: application/json X-Civicrm-Webhook-Signature: ******************** Response Body: 預設回傳格式為JSON，被記錄的捐款資訊欄位是固定的，如下範例：\n{ \u0026#34;contact_id\u0026#34;:\u0026#34;1\u0026#34;, \u0026#34;external_identifier\u0026#34;:\u0026#34;abcd1234\u0026#34;, \u0026#34;contribution_id\u0026#34;:\u0026#34;1\u0026#34;, \u0026#34;contribution_page_id\u0026#34;:\u0026#34;1\u0026#34;, \u0026#34;contribution_type_id\u0026#34;:\u0026#34;1\u0026#34;, \u0026#34;payment_instrument_id\u0026#34;:\u0026#34;\u0026#34;, \u0026#34;trxn_id\u0026#34;:\u0026#34;\u0026#34;, \u0026#34;contribution_status_id\u0026#34;:\u0026#34;1\u0026#34;, \u0026#34;amount_level\u0026#34;:\u0026#34;XXX\u0026#34;, \u0026#34;currency\u0026#34;:\u0026#34;TWD\u0026#34;, \u0026#34;total_amount\u0026#34;:\u0026#34;200.00\u0026#34;, \u0026#34;receipt_id\u0026#34;:\u0026#34;***********\u0026#34;, \u0026#34;receipt_date\u0026#34;:\u0026#34;2021-08-18 15:51:00\u0026#34;, \u0026#34;created_date\u0026#34;:\u0026#34;2021-08-18 15:07:13\u0026#34;, \u0026#34;receive_date\u0026#34;:\u0026#34;2021-08-18 17:13:00\u0026#34; } 驗證回傳值 接收到 Notification 後，建議您務必驗證來源 HTTP Header 將會附上 X-Civicrm-Webhook-Signature 這個字串標記。 接收到此標記後，請您使用 \u0026lt;civicrm_webhook_secret\u0026gt; 密鑰搭配進行驗證\n驗證方式說明如下： netiCRM 使用 HMAC sha1演算法進行加密，針對每筆捐款交易產生一組簽名與密鑰。透過相同方式進行驗算，比對 X-Civicrm-Webhook-Signature 的簽名與 \u0026lt;civicrm_webhook_secret\u0026gt; 密鑰雜湊運算後是否相符合，驗證 HTTP POST request 是不是來自於 netiCRM。以下以PHP為例。\n驗證範例 $hash = hash_hmac('sha1', $json_body, '\u0026lt;civicrm_webhook_secret\u0026gt;'); echo $hash; # this should be the same with X-Civicrm-Webhook-Signature "
}]